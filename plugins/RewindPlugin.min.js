/***
|''Name''|RewindPlugin|
|''Description''|Renders $target message with $target link to the last tiddler you came from|
|''Author''|Tobias Beer|
|''Version''|0.5.0|
|''Documentation:''|http://rewind.tiddlyspace.com/|
|''Source''|https://raw.github.com/tobibeer/TiddlyWikiPlugins/master/plugins/RewindPlugin.min.js|
|''License''|[[Creative Commons Attribution-ShareAlike 2.5 License|http://creativecommons.org/licenses/by-sa/2.5/]]|
|''~CoreVersion''|2.5.3|
/%***/
(function(e){var t=config.extensions.rewind={insertAt:".subtitle",insertAfter:true,msgClass:"",tplRewindMessage:"« go back to [[%0]]%1",txtRewindPrettyLink:" where you clicked [[%0|%1]]"};onClickTiddlerLink_Rewind=onClickTiddlerLink;onClickTiddlerLink=function(n){onClickTiddlerLink_Rewind.apply(this,arguments);var r,i=n||window.event,s=resolveTarget(i),o=e(s).text(),u=s.getAttribute("tiddlyLink"),a=e(story.getTiddler(u)),f=story.findContainingTiddler(s),l=e(t.insertAt,a);f=f?f.getAttribute("tiddler"):"";if(e(s).closest(".rewind_message")[0]||!f||l.length==0)return;r=e(".rewind_message",a);if(r.length){r.empty()}else{r=e('<span class="rewind_message '+t.msgClass+'"/>');t.insertAfter?l.after(r):l.before(r)}wikify(t.tplRewindMessage.format([f,o==u?"":t.txtRewindPrettyLink.format([o,f]),o]),r[0])};config.shadowTiddlers.StyleSheetRewind=store.getTiddlerText("RewindPlugin##CSS");store.addNotification("StyleSheetRewind",refreshStyles)})(jQuery)
//%/
//{{{
/*
!CSS
.rewind_message{
    display:block;
    background-color:[[ColorPalette::TertiaryPale]];
    margin:3px 0 10px 0;
    padding:3px;
}
!END
*/
//}}}