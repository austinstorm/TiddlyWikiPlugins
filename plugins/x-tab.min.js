/***
<<xtab defaults:true>>
|''Name''|x-tab|
|''Description''|a crosstable for tags|
|''Documentation''|http://tbGTD.tiddlyspot.com/#%5B%5Bx-tab%20info%5D%5D|
|''Version''|1.0|
|''Type''|macro|
|''Author''|[[TobiasBeer]]|
|''Source''|https://raw.github.com/tobibeer/TiddlyWikiPlugins/master/plugins/x-tab.min.js|
|''License''|[[Creative Commons Attribution-Share Alike 3.0|http://creativecommons.org/licenses/by-sa/3.0/]]|
!Code
/%***/
(function (e) { config.macros.tabs.handler_IconTabsPlugin = config.macros.tabs.handler; config.macros.tabs.IconTabsConfig = { defaultPath: "%0.gif", defaultWrapperClass: "iconTabs", defaultIconClass: "tabIcon", hSpace: "20px", vSpace: "20px" }; config.macros.tabs.handler = function (t, n, r, i, s, o) { var u = [], a, f, l, c, h, d, v, m = this.IconTabsConfig; for (p = 0; p < r.length; p++) { c = r[p]; console.log(p + "\n" + r[p]); if (c.indexOf("--") == 0) { if (readOnly) { console.log(r.splice(p, c.substr(3).toLowerCase() == "space" ? 1 : 3)); p--; continue } else { r[p] = c = c.substr(2) } } if (v) { v = false; u.push(c); r.splice(p - 1, 1); f-- } h = c.toLowerCase(); v = h == "hspace" || h == "vspace"; a = a || h == "hspace" } f = r.indexOf("icons:"); if (f > 0) { l = r.splice(f); l.shift(); s = "[[" + r.join("]] [[") + "]]" } config.macros.tabs.handler_IconTabsPlugin.apply(this, arguments); if (f > 0) { var d = l[0], g = l[1], v = l[2], y = e(t.lastChild); if (!d) d = m.defaultPath; y.addClass(m.defaultWrapperClass + (g ? " " + g : "")) } e(".tab", y).each(function () { var t = e(this), n = t.text().trim(), r = t.attr("content").replace(/\#\#/, "__").replace(/\:\:/, "__"); if (f > 0) { t.html('<img src="' + d.format([r]) + '" class="' + m.defaultIconClass + (n ? " icon" + n.trim().replace(/(\s|\W)/mg, "_") : "") + '"/>') } if (u.contains(n)) { t.css("margin-" + (a ? "left" : "top"), v ? v : a ? m.hSpace : m.vSpace) } }) }; config.shadowTiddlers["StyleSheetIconTabs"] = "/*{{{*/\n" + ".tabIcon {\n" + "   width:28px;\n" + "   margin:3px 3px 0 3px;\n" + "}\n" + ".iconTabs {\n" + "   margin-top:10px;\n" + "}\n" + ".iconTabs .iconTabs {\n" + "   margin:3px;\n" + "}\n" + ".iconTabs .tabset{\n" + "   padding:0;\n" + "}\n" + ".iconTabs .tab {\n" + "   outline: 0;\n" + "   margin: 0;\n" + "   padding: 25px 0 1px 0;\n" + "   border: 1px solid transparent;\n" + "}\n" + ".iconTabs .tabUnselected {\n" + "   background: transparent;\n" + "}\n" + ".iconTabs .tabSelected,\n" + ".iconTabs .tabSelected:hover,\n" + ".iconTabs .tabUnselected:hover {\n" + "   background: [[ColorPalette::TertiaryPale]];\n" + "   border: 1px solid [[ColorPalette::TertiaryLight]];\n" + "   border-bottom-color: transparent;\n" + "}\n" + ".iconTabs .spacer {\n" + "   margin-left: 20px;\n" + "}\n" + "/*}}}*/"; store.addNotification("StyleSheetIconTabs", refreshStyles) })(jQuery)
//%/