/***
|''Name''|IconTabsPlugin|
|''Description''|extends the tabs macro to replace tabnames with icons|
|''Documentation''|http://icontabs.tiddlyspace.com|
|''Author''|Tobias Beer|
|''Version''|1.0.3|
|''CoreVersion''|2.6.1|
|''Source''|https://raw.github.com/tobibeer/TiddlyWikiPlugins/master/plugins/IconTabsPlugin.min.js|
|''License''|[[Creative Commons Attribution-Share Alike 3.0|http://creativecommons.org/licenses/by-sa/3.0/]]|
/%***/
(function(e){config.macros.tabs.handler_IconTabsPlugin=config.macros.tabs.handler;config.macros.tabs.IconTabsConfig={defaultPath:"%0.gif",defaultWrapperClass:"iconTabs",defaultIconClass:"tabIcon",hSpace:"20px",vSpace:"20px"};config.macros.tabs.handler=function(t,n,r,i,s,o){var u=[],a,f,l,c,h=0,p,d,v,m=this.IconTabsConfig;while(h<r.length){p=r[h];if(p.indexOf("--")==0){if(readOnly){d=p.substr(2).toLowerCase();r.splice(h,d=="hspace"||d=="vspace"?1:3);continue}else{r[h]=p=p.substr(2)}}d=p.toLowerCase();if(d=="hspace"||d=="vspace"){a=d=="hspace";r.splice(h,1);c=r[h];if(c)u.push(c.replace(/^\-{2}/,""));continue}h++}f=r.indexOf("icons:");if(f>0){l=r.splice(f);l.shift();s="[["+r.join("]] [[")+"]]"}config.macros.tabs.handler_IconTabsPlugin.apply(this,arguments);if(f>0){var v=l[0],g=l[1],y=l[2],b=e(t.lastChild);if(!v)v=m.defaultPath;b.addClass(m.defaultWrapperClass+(g?" "+g:""))}e(".tab",b).each(function(){var t,n=e(this),r=n.text().trim(),i=n.attr("content").replace(/\#\#/,"__").replace(/\:\:/,"__");if(f>0){t=store.getTiddlerText(v.format([i])+"##data");t=t?t:store.getTiddlerText(v.format([i])+"##file");t=t?t:store.getTiddlerText(v.format([i])+"##url");n.html('<img src="'+(t?t:v.format([i]))+'" class="'+m.defaultIconClass+(r?" icon"+r.trim().replace(/(\s|\W)/mg,"_"):"")+'"/>')}if(u.contains(r)){n.css("margin-"+(a?"left":"top"),y?y:a?m.hSpace:m.vSpace)}})};config.shadowTiddlers["StyleSheetIconTabs"]="/*{{{*/\n"+".tabIcon {\n"+"   width:28px;\n"+"   height:28px;\n"+"   margin:3px 3px 0 3px;\n"+"}\n"+".iconTabs {\n"+"   margin-top:10px;\n"+"}\n"+".iconTabs .iconTabs {\n"+"   margin:3px;\n"+"}\n"+".iconTabs .tabset{\n"+"   padding:0;\n"+"}\n"+".iconTabs .tab {\n"+"   outline: 0;\n"+"   margin: 0;\n"+"   padding: 22px 0 1px 0;\n"+"   border: 1px solid transparent;\n"+"}\n"+".iconTabs .tabUnselected {\n"+"   background: transparent;\n"+"}\n"+".iconTabs .tabSelected,\n"+".iconTabs .tabSelected:hover,\n"+".iconTabs .tabUnselected:hover {\n"+"   background: [[ColorPalette::TertiaryPale]];\n"+"   border: 1px solid [[ColorPalette::TertiaryLight]];\n"+"   border-bottom-color: transparent;\n"+"}\n"+".iconTabs .spacer {\n"+"   margin-left: 20px;\n"+"}\n"+"/*}}}*/";store.addNotification("StyleSheetIconTabs",refreshStyles)})(jQuery)
//%/
