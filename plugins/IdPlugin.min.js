/***
|''Name:''|IdPlugin|
|''Description:''|» provides {{{store.tiddlerId(tiddlerOrTitle)}}} to persist and retrieve unique tiddlers ids<br>» provides {{{store.getTiddlerById(id)}}} to retrieve tiddlers by their id |
|''Documentation:''|http://id.tiddlyspace.com|
|''Author:''|Tobias Beer / Mario Pietsch|
|''Version:''|1.0.3|
|''Source''|https://raw.github.com/tobibeer/TiddlyWikiPlugins/master/plugins/IdPlugin.js|
|''License''|[[Creative Commons Attribution-Share Alike 3.0|http://creativecommons.org/licenses/by-sa/3.0/]]|
|''Implements''|http://www.broofa.com/Tools/Math.uuid.js|
/%***/
TiddlyWiki.prototype.tiddlerId=function(e,t,n,r){var i=typeof e!="string"?e:this.getTiddler(e),s=i.fields["id"];if(!s){s=(t||"%0").format([Math.uuid(n||21,r)]);i.fields["id"]=s;this.saveTiddler(i)}return s};TiddlyWiki.prototype.getTiddlerById=function(e){var t;this.forEachTiddler(function(n,r){if(e===r.fields["id"]){t=r;return false}});return t};(function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Math.uuid=function(t,n){var r=e,i=new Array(36);n=n||r.length;if(t){for(var s=0;s<t;s++)i[s]=r[0|Math.random()*n]}else{var o=0,u;for(var s=0;s<36;s++){if(s==8||s==13||s==18||s==23){i[s]="-"}else if(s==14){i[s]="4"}else{if(o<=2)o=33554432+Math.random()*16777216|0;u=o&15;o=o>>4;i[s]=r[s==19?u&3|8:u]}}}return i.join("")}})()
//%/